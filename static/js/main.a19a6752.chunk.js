(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=n(2),s=n(22),u=(n(33),n(5)),i=n(19),m=n(20),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},d=function(e){return{type:"SET_MESSAGE",message:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},E=n(7),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.postsId}));case"REMOVE_COMMENT":return e.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.commentId}))})}));default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUERY":return t.query;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMPLETE":return!0;default:return e}},v=n(13),y=n.n(v),_=n(23),g=n(21),j="https://jsonplaceholder.typicode.com",N=function(){var e=Object(g.a)(y.a.mark((function e(){var t,n,a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("".concat(j,"/posts")).then((function(e){return e.json()})),fetch("".concat(j,"/users")).then((function(e){return e.json()})),fetch("".concat(j,"/comments")).then((function(e){return e.json()}))]);case 2:return t=e.sent,n=Object(_.a)(t,3),a=n[0],r=n[1],c=n[2],e.abrupt("return",a.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(u.combineReducers)({loading:p,message:f,posts:b,query:h,loadComplete:O}),S=function(e){return e.loading},T=function(e){return e.message},w=function(e){return e.query},L=function(e){return e.loadComplete},M=function(e){return e.posts.filter((function(t){return(t.title+t.body).toLowerCase().includes(e.query.toLowerCase())}))},C=Object(u.createStore)(I,Object(i.composeWithDevTools)(Object(u.applyMiddleware)(m.a))),A=function(){var e=Object(l.b)(),t=Object(l.c)(S);return r.a.createElement("button",{className:"btn btn-info",type:"button",onClick:function(){return e((function(e){e({type:"START_LOADING"}),N().then((function(t){e({type:"FINISH_LOADING"}),e(d("Success")),e({type:"SET_POSTS",posts:t}),e({type:"LOAD_COMPLETE"})})).catch((function(){e(d("Error occurred when loading data"))}))}))},disabled:t},t?"Loading...":"Load")},R=function(e){var t=e.user,n=t.name,a=t.email,c=t.address;return r.a.createElement("div",{className:"personalInfo"},r.a.createElement("h3",{className:"personalInfo__name"},n),r.a.createElement("p",{className:"personalInfo__email"},r.a.createElement("a",{href:"mailto=".concat(a)},a)),r.a.createElement("address",{className:"personalInfo__address"},r.a.createElement("span",null,c.street,c.suite),r.a.createElement("span",null,c.city),r.a.createElement("span",null,c.zipcode)))},x=function(e){var t=e.comment,n=t.name,a=t.body,c=t.email,o=t.postId,s=Object(l.b)();return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:function(){return s((e=o,n=t.id,{type:"REMOVE_COMMENT",postsId:e,commentId:n}));var e,n}},"x"),r.a.createElement("h3",null,n),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:".concat(c)},c)),r.a.createElement("p",null,a))},k=function(e){var t=e.post,n=t.title,a=t.body,c=t.user,o=t.comments,s=Object(l.b)();return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(){return s({type:"REMOVE_POST",postsId:t.id})}},"x"),r.a.createElement("h2",null,n),r.a.createElement("p",null,a),r.a.createElement("section",{className:"post__personalInfo"},r.a.createElement(R,{user:c})),r.a.createElement("section",{className:"comments"},r.a.createElement("ul",{className:"comment__list"},o.map((function(e){return r.a.createElement("li",{className:"comment__item",key:e.id},r.a.createElement(x,{comment:e}))})))))},D=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"post__list"},t.map((function(e){return r.a.createElement("li",{className:"post__item",key:e.id},r.a.createElement(k,{post:e}))}))))},P=function(){var e=Object(l.b)(),t=Object(l.c)(S),n=Object(l.c)(T)||"Ready!",a=Object(l.c)(M),c=Object(l.c)(w),o=Object(l.c)(L);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Redux list of posts"),r.a.createElement("h2",null,t?"Loading...":n),o?r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",id:"search-query",className:"form-control mr-sm-2",placeholder:"Search",value:c,onChange:function(t){var n=t.target.value;e(function(e){return{type:"QUERY",query:e}}(n))}})):r.a.createElement(A,null),r.a.createElement(D,{posts:a}))},q=function(){return r.a.createElement(l.a,{store:C},r.a.createElement(s.a,null,r.a.createElement(P,null)))};o.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.a19a6752.chunk.js.map